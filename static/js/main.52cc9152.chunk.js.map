{"version":3,"sources":["utils/useWindowSize.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmationPopup.js","components/AuthForm.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/InfoTooltip.js","utils/api.js","utils/auth.js","images/spinner.gif","components/LoadingSpinner.js","components/App.js","utils/constant.js","reportWebVitals.js","index.js"],"names":["useWindowSize","isSSR","window","React","useState","width","innerWidth","height","innerHeight","windowSize","setWindowSize","changeWindowSize","useEffect","addEventListener","removeEventListener","Header","userEmail","loggedIn","handleLogout","handleBurger","isBurgerOpened","currentPage","useLocation","pageLink","pathname","pageName","className","to","onClick","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","aria-label","src","link","alt","name","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","Footer","Date","getFullYear","PopupWithForm","title","isOpen","onClose","onSubmit","children","buttonText","noValidate","value","EditProfilePopup","onUpdateUser","setName","description","setDescription","e","preventDefault","placeholder","id","required","minLength","maxLength","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","cardData","setCardData","handleChange","ImagePopup","ConfirmationPopup","AuthForm","email","password","handleSubmit","formTitle","buttonName","redirectText","redirectLink","autoComplete","Register","handleRegister","data","setData","Login","handleLogin","ProtectedRoute","Component","component","props","InfoTooltip","isSuccess","api","address","cohortId","token","this","_address","_token","_cohortId","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_checkResponse","userData","method","body","JSON","stringify","cardId","avatarLink","BASE_URL","checkResponse","response","LoadingSpinner","spinner","App","cardsList","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteConfirmPopupOpen","setIsDeleteConfirmPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","selectedCardDelete","setSelectedCardDelete","setCurrentUser","setLoggedIn","isInfotooltipOpen","setisInfotooltipOpen","setIsSuccess","history","useHistory","setUserEmail","setIsBurgerOpened","closeAllPopups","getProfileInfo","catch","error","console","log","getInitialCards","cardsData","close","keyCode","document","jwt","localStorage","getItem","push","checkToken","Provider","removeItem","burgerBtn","parentElement","classList","remove","add","path","auth","setItem","exact","changeLikeCardStatus","newCard","state","c","formData","editProfileInfo","formLink","editProfilePhoto","cardForm","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.52cc9152.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction useWindowSize() {\n  const isSSR = typeof window !== \"undefined\";\n  const [windowSize, setWindowSize] = React.useState({\n    width: isSSR ? 1200 : window.innerWidth,\n    height: isSSR ? 800 : window.innerHeight,\n  });\n\n  function changeWindowSize() {\n    setWindowSize({ width: window.innerWidth, height: window.innerHeight });\n  }\n\n  React.useEffect(() => {\n    window.addEventListener(\"resize\", changeWindowSize);\n\n    return () => {\n      window.removeEventListener(\"resize\", changeWindowSize);\n    };\n  }, []);\n\n  return windowSize;\n}\n\nexport default useWindowSize;","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport useWindowSize from '../utils/useWindowSize'\nfunction Header({ userEmail, loggedIn, handleLogout, handleBurger, isBurgerOpened}) {\n  const currentPage = useLocation();\n  const pageLink = (currentPage.pathname==='/signin')? 'signup':'signin';\n  const pageName = (currentPage.pathname==='/signin')? 'Регистрация':'Войти';\n  let width = useWindowSize().width;\n\n  return (\n    <>\n      <div className={`header__auth  header__auth_mobile ${isBurgerOpened ?'header__auth_mobile-opened': ''}`} >\n      <p className=\"header__user-email\">{userEmail} </p>\n      <Link to=\"signin\" \n        onClick={handleLogout}\n        className=\"header__link header__link_logout\"> Выйти</Link>\n      </div>\n    \n    <header className=\"header\">\n      <div className=\"header__logo\" />\n      \n      {(loggedIn===false)?(\n          <div className=\"header__auth\">\n            <Link to={pageLink} className=\"header__link header__link_signup\">{pageName}</Link>\n          </div>\n      ):(width>=767 & loggedIn===true)?(\n          <div className=\"header__auth\">\n              <p className=\"header__user-email\">{userEmail} </p>\n              <Link to=\"signin\" \n                onClick={handleLogout}\n                className=\"header__link header__link_logout\"> Выйти</Link>\n          </div>\n      ):(\n          <div className=\"header__auth\">\n            <div className=\"header__burger\" onClick={handleBurger}>\n              <div className=\"header__burger-btn\">\n              </div>\n            </div>\n          </div>\n          \n      )}\n    </header>\n    </>\n  );\n}\n\nexport default Header;\n\n\n\n/*<p className=\"header__user-email\">{userEmail} </p>\n            <Link to=\"signin\" \n              onClick={handleLogout}\n              className=\"header__link header__link_logout\"> Выйти</Link> */","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card ({card, onCardClick, onCardLike, onCardDelete}) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = card.owner._id === currentUser._id;\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    const cardDeleteButtonClassName = (\n        `cards__delete-btn ${isOwn ? 'cards__delete-btn_visible' : ''}`\n      );\n\n    const cardLikeButtonClassName = (\n        `cards__like ${isLiked ? 'cards__like_active' : ''}`\n      );\n\n\n    function handleClick() {\n        onCardClick(card);\n    }  \n\n    function handleLikeClick() {\n        onCardLike(card);\n    }\n\n    function handleDeleteClick() {\n        onCardDelete(card);\n    }\n    return (\n        <li className=\"cards__item\">\n            <button type=\"button\" aria-label=\"кнопка-удалить\" \n                className={cardDeleteButtonClassName}\n                onClick={handleDeleteClick}></button>\n            <img src={card.link} alt={card.name} \n                    onClick={handleClick}\n                    className=\"cards__image\"/>\n            <div className=\"cards__elements\">\n                <h2 className=\"cards__text\">{card.name}</h2>\n                <div className=\"card__like-area\">\n                    <button type=\"button\" aria-label=\"кнопка-лайк\" \n                            className={cardLikeButtonClassName} \n                            onClick={handleLikeClick}>\n                    </button>\n                    <p className=\"cards__like-number\">{card.likes.length}</p>\n                </div>\n            </div>\n        </li>\n      );\n  } \n\nexport default Card","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport Card from './Card'\n\nfunction Main({cards, onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n        <section className=\"profile\">\n            <div className = \"profile__photo-area\">\n            <img src={currentUser.avatar} alt=\"Фото профиля\" className=\"profile__photo\" />\n            <button type=\"button\" aria-label=\"кнопка-добавить\" \n                    className=\"profile__edtn-button profile__edtn-button_photo\"\n                    onClick={onEditAvatar}/>\n            </div>\n            \n            <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button type=\"button\" aria-label=\"кнопка-редактировать\" \n                    className=\"profile__edtn-button profile__edtn-button_info\"\n                    onClick={onEditProfile}/>\n            <p className = \"profile__bio\">{currentUser.about}</p>\n            </div>\n\n            <button type=\"button\" aria-label=\"кнопка-добавить\" \n                    className=\"profile__add-button\"\n                    onClick={onAddPlace}/>\n        </section>\n\n        <section className=\"photo-grid\">\n            <ul className=\"cards\">\n                {cards.map((card) => (\n                    <Card key={card._id} card={card} \n                          onCardClick={onCardClick}\n                          onCardLike={onCardLike}\n                          onCardDelete={onCardDelete}/>)\n                )}\n            </ul>\n        </section>\n    </main>\n  );\n}\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__author\">&copy;{new Date().getFullYear()}. Юлия Тувалева</p>\n    </footer>\n  );\n}\n\nexport default Footer;","function PopupWithForm({name, title, isOpen, onClose, onSubmit, children, buttonText}){\n    \n    return (\n    <div className={`popup popup_type_${name} ${isOpen ?'popup_opened': ''}`}>\n        <div className=\"popup__overlay\" onClick={onClose}></div>\n        <div className=\"popup__container\">\n            <button type=\"button\" className={`popup__close-btn popup__close-btn_area_${name}`}\n            onClick = {onClose}\n            aria-label=\"кнопка-закрыть\"/>\n            <h3 className=\"popup__name\">{title}</h3>\n            <form className=\"popup__form\" name={`${name}-form`} \n                  noValidate onSubmit={onSubmit}>\n                {children}\n                <button type=\"submit\" aria-label={`кнопка-${buttonText}`}\n                  className=\"popup__submit-btn\"\n                  value={buttonText}>{buttonText}\n                </button>\n            </form>\n        </div>\n    </div>\n    );\n  } \n\nexport default PopupWithForm\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}){\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n    \n    React.useEffect(() => {\n        setName(currentUser.name || '');\n        setDescription(currentUser.about || '');\n    }, [currentUser, isOpen]);\n\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n      \n        onUpdateUser({\n          name,\n          about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm name='profile' title='Редактировать профиль' \n                        isOpen={isOpen} \n                        onClose={onClose}\n                        onSubmit={handleSubmit}\n                        buttonText='Сохранить'>\n            <input type=\"text\" placeholder=\"Имя\" name=\"name\" id=\"name\" \n              className=\"popup__form-input popup__form-input_field_name\" \n              required minLength=\"2\" maxLength=\"40\"\n              value={name} onChange={handleChangeName}/>\n            <span className=\"popup__form-error name-error\"></span>\n            <input type=\"text\" placeholder=\"О Себе\" name=\"about\" id=\"about\" \n              className=\"popup__form-input popup__form-input_field_bio\"\n              required minLength=\"2\" maxLength=\"200\" \n              value={description}\n              onChange={handleChangeDescription}/>\n            <span className=\"popup__form-error about-error\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\n\nfunction EditAvatarPopup ({isOpen, onClose, onUpdateAvatar}) {\n    const avatarRef = React.useRef();\n\n\n    function clearInputLink() {\n        avatarRef.current.value = '';\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar({\n          avatar: avatarRef.current.value\n        });\n        clearInputLink();\n    }\n\n    return (\n        <PopupWithForm name='avatar' title='Обновить аватар' \n                        isOpen={isOpen}\n                        onClose={onClose}\n                        onSubmit={handleSubmit}\n                        buttonText='Сохранить'>\n\n            <input ref={avatarRef} type=\"url\" placeholder=\"Ссылка на фотографию\" id=\"link\" name=\"link\" \n                className=\"popup__form-input popup__form-input_field_avatar\" required/>\n            <span className=\"popup__form-error link-error\"></span>\n          </PopupWithForm>\n    );\n}\n\nexport default EditAvatarPopup\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\n\nfunction AddPlacePopup ({isOpen, onClose, onAddPlace}) {\n    const [cardData, setCardData] = React.useState({\n      name: '',\n      link: '',\n    })\n  \n    function handleChange(e) {\n      const {name, value} = e.target;\n      setCardData({\n        ...cardData,\n        [name]:value\n      })\n    }\n\n    function clearInputLink() {\n      cardData.name = '';\n      cardData.link = '';\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onAddPlace({\n          name: cardData.name, \n          link: cardData.link, \n        });\n        clearInputLink();\n    }\n\n    return (\n        <PopupWithForm name='cards' title='Новое место' \n                      isOpen = {isOpen}\n                      onClose={onClose}\n                      onSubmit={handleSubmit}\n                      buttonText='Создать'>\n\n          <input type=\"text\" placeholder=\"Название\" id=\"cardName\" name=\"name\" \n            className=\"popup__form-input popup__form-input_field_image-name\" \n            required minLength=\"2\" maxLength=\"30\"\n            value={cardData.name} onChange={handleChange}/>\n          <span className=\"popup__form-error cardName-error\"></span>\n          <input required type=\"url\" placeholder=\"Ссылка на картинку\" id=\"cardLink\" name=\"link\" \n            className=\"popup__form-input popup__form-input_field_image-src\"\n            value={cardData.link} onChange={handleChange}/>\n          <span className=\"popup__form-error cardLink-error\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default AddPlacePopup\n","import React from 'react';\n\nfunction ImagePopup ({card, isOpen, onClose}) {\n    return (\n        <div className={`popup popup_type_image ${isOpen? 'popup_opened': ''}`}>\n            <div className=\"popup__overlay\" onClick={onClose}></div>\n            <div className=\"popup__image-container\">\n                <button type=\"button\" className='popup__close-btn popup__close-btn_area_image'\n                aria-label=\"кнопка-закрыть\" onClick={onClose}/>\n                <figure className=\"popup__image\">\n                    <img src={card?.link} alt={card?.name} className=\"popup__image-content\" />\n                    <figcaption className=\"popup__image-caption\">{card?.name}</figcaption>\n                </figure>\n            </div>\n        </div>\n      );\n  } \n\nexport default ImagePopup\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\n\nfunction ConfirmationPopup ({card, isOpen, onClose, onCardDelete}) {\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onCardDelete(card);\n    }\n\n    return (\n        <PopupWithForm name='submit-delete' title='Вы уверены?'\n                       isOpen={isOpen}\n                       onClose={onClose}\n                       onSubmit={handleSubmit}\n                       buttonText='Да' />\n    );\n}\n\nexport default ConfirmationPopup","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction AuthForm({email, password, handleChange, handleSubmit}) {\n    const currentPage = useLocation().pathname;\n    const formTitle = (currentPage==='/signin')?'Войти':'Регистрация';\n    const buttonName = (currentPage==='/signin')? 'Войти':'Зарегистрироваться';\n    \n    const redirectText = (currentPage==='/signin')? 'Еще не зарегистрированы? Зарегистрироваться'\n                                                  : 'Уже зарегистрированы? Войти';\n    const redirectLink = (currentPage==='/signin')?'signup':'signin';\n\n    return (\n        <div className=\"login-signup\">\n        <h3 className=\"login-signup__title\">\n            {formTitle}\n        </h3>\n        <form className=\"login-signup__form\" name='login-signup-form' onSubmit={handleSubmit}>\n            \n            <input required type=\"email\" placeholder=\"Email\" id=\"email\" name=\"email\" \n                className=\"login-signup__form-input login-signup__form-input_field_email\" \n                minLength=\"2\" autoComplete=\"off\"\n                value={email} onChange={handleChange}/>\n            <span className=\"login-signup__form-error email-error\"></span>\n            <input required type=\"password\" placeholder=\"Пароль\" id=\"password\" name=\"password\" \n                className=\"login-signup__form-input login-signup__form-input_field_password\" \n                autoComplete=\"off\"\n                value={password} onChange={handleChange}/>\n            <span className=\"login-signup__form-error password-error\"></span>\n\n            <button type=\"submit\" aria-label=\"кнопка-Зарегистрироваться\"\n                className=\"login-signup__submit-btn\">{buttonName}\n            </button>\n            <div className=\"login-signup__login-area\">\n                <Link to={redirectLink} className=\"login-signup__login-area login-signup__link\">\n                    {redirectText}\n                </Link>\n            </div>\n        </form>\n        </div>\n    )\n}\n\nexport default AuthForm;","import React, { useState } from 'react';\nimport AuthForm from './AuthForm'\n\nfunction Register({handleRegister}) {\n  const [data, setData] = useState({\n    email: '',\n    password: '',\n  })\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]:value\n    })\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const {email, password} = data;\n    handleRegister({password, email})\n  }\n\n  return (\n    <AuthForm email={data.email}\n              password={data.password}\n              handleChange={handleChange}\n              handleSubmit={handleSubmit}/>\n  )\n}\n  export default Register;","import React, { useState } from 'react';\nimport AuthForm from './AuthForm';\n\nfunction Login({ handleLogin}){\n  const [data, setData] = useState({\n    email: '',\n    password: '',\n  })\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]:value,\n    })\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!data.email || !data.password){\n      return;\n    }\n    const {email, password} = data;\n    handleLogin({email, password})\n  }\n\n  return(\n    <AuthForm email={data.email}\n              password={data.password}\n              handleChange={handleChange}\n              handleSubmit={handleSubmit}/>\n  )\n}\n\nexport default Login;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\n      }\n    </Route>\n)};\n\nexport default ProtectedRoute;","import React from 'react';\n\nfunction InfoTooltip({isSuccess, isOpen, onClose}) {\n  return (\n    <div className={`popup popup_type_infotooltip ${isOpen? 'popup_opened': ''}`}>\n    <div className=\"popup__overlay\" onClick={onClose}></div>\n    <div className=\"popup__container\">\n        <button type=\"button\" className='popup__close-btn popup__close-btn_area_infotooltip'\n        aria-label=\"кнопка-закрыть\" onClick={onClose}/>\n        <div className=\"popup__signup\">\n          <div className={`popup__signup-image ${isSuccess ?'popup__signup-image_success': 'popup__signup-image_error'}`}></div>\n          {isSuccess ? (\n            <p className=\"popup__signup-text\">Вы успешно зарегистрировались!</p>\n          ) : (\n            <p className=\"popup__signup-text\">Что-то пошло не так! Попробуйте ещё раз.</p>\n          )\n          }\n        </div>\n    </div>\n</div>\n  );\n}\n\nexport default InfoTooltip;\n\n","class Api {\n    constructor({address, cohortId, token}) {\n        this._address = address;\n        this._token = token;\n        this._cohortId = cohortId;\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}`);\n    }\n \n    \n    getProfileInfo() {\n        return fetch(`${this._address}/${this._cohortId}/users/me`, {\n            headers: {\n                authorization: this._token\n            }\n        })\n        .then(this._checkResponse)\n    }\n\n    getInitialCards(){\n        return fetch(`${this._address}/${this._cohortId}/cards`, {\n            headers: {\n                authorization: this._token\n            }\n        })\n          .then(this._checkResponse)\n    }\n\n    editProfileInfo(userData){\n        return fetch(`${this._address}/${this._cohortId}/users/me`, {\n            method: \"PATCH\",\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: userData.name,\n                about: userData.about\n            })\n        })\n          .then(this._checkResponse)\n    }\n\n    addNewCard(cardData){\n        return fetch(`${this._address}/${this._cohortId}/cards`, {\n            method: \"POST\",\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                name: cardData.name,\n                link: cardData.link\n            })\n        })\n          .then(this._checkResponse)\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._address}/${this._cohortId}/cards/${cardId}`, {\n            method: \"DELETE\",\n            headers: {\n                authorization: this._token\n            }\n        })\n          .then(this._checkResponse)\n    }\n\n    addLikeCard(cardId) {\n        return fetch(`${this._address}/${this._cohortId}/cards/likes/${cardId}`, {\n            method: \"PUT\",\n            headers: {\n                authorization: this._token\n            }\n        })\n          .then(this._checkResponse)\n    }\n\n    cancelLikeCard(cardId){\n        return fetch(`${this._address}/${this._cohortId}/cards/likes/${cardId}`, {\n            method: \"DELETE\",\n            headers: {\n                authorization: this._token\n            }\n        })\n          .then(this._checkResponse)\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        if (isLiked) {\n            return fetch(`${this._address}/${this._cohortId}/cards/likes/${cardId}`, {\n                method: \"PUT\",\n                headers: {\n                    authorization: this._token\n                }\n            })\n              .then(this._checkResponse)\n        } else {\n            return fetch(`${this._address}/${this._cohortId}/cards/likes/${cardId}`, {\n                method: \"DELETE\",\n                headers: {\n                    authorization: this._token\n                }\n            })\n              .then(this._checkResponse)\n        }\n    }\n\n\n    editProfilePhoto(avatarLink){\n        return fetch(`${this._address}/${this._cohortId}/users/me/avatar`, {\n            method: \"PATCH\",\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(avatarLink)\n        })\n          .then(this._checkResponse)\n    }\n}\n\n\nexport const api = new Api({\n    address: 'https://mesto.nomoreparties.co/v1',\n    cohortId: 'cohort-22',\n    token: '1ce66c26-e1b5-44dd-8df7-d34ef0ebc07d'\n});","export const BASE_URL = 'https://auth.nomoreparties.co';\nconst checkResponse = (response) => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\n\nexport const register = (password, email) => {\n    console.log(password, email);\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({password, email})\n    })\n    .then(checkResponse)\n}\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({email, password})\n    })\n    .then(checkResponse)\n  };\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(checkResponse)\n}","export default __webpack_public_path__ + \"static/media/spinner.63894ea4.gif\";","import React from 'react';\n\nimport spinner from '../images/spinner.gif'\n\nfunction LoadingSpinner() {\n  return (\n    <div className=\"load-spinner\">\n        <img className=\"load-spinner__image\" src={spinner} alt=\"spinner\"/>\n        <p className=\"load-spinner__text\">Loading...</p>\n    </div>\n  );\n}\n\nexport default LoadingSpinner;","import Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport ImagePopup from './ImagePopup'\nimport ConfirmationPopup from './ConfirmationPopup'\nimport Register from './Register'\nimport Login from './Login'\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip'\nimport React, { useEffect, useState } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport {api} from '../utils/api.js';\nimport {escKey} from '../utils/constant.js';\nimport * as auth from '../utils/auth'\nimport {Route, Switch, useHistory, Redirect } from 'react-router-dom';\nimport LoadingSpinner from './LoadingSpinner'\n\nfunction App () {\n  const [cardsList, setCards] = useState([]);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeleteConfirmPopupOpen, setIsDeleteConfirmPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [selectedCardDelete, setSelectedCardDelete] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [loggedIn, setLoggedIn] = useState(null);\n  const [isInfotooltipOpen, setisInfotooltipOpen] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const history = useHistory();\n  const [userEmail, setUserEmail] = useState(null);\n  const [isBurgerOpened, setIsBurgerOpened] = React.useState(false);\n\n  useEffect(()=>{\n    api.getProfileInfo()\n      .then((userData) => {\n          setCurrentUser(userData);\n      })\n      .catch( (error) => {\n          console.log(error);\n      });\n\n    api.getInitialCards()\n    .then((cardsData) => {\n        setCards(cardsData);\n      })\n    .catch( (error) => {\n        console.log(error);\n    });\n  }, [])\n  \n  useEffect(() => {\n    const close = (e) => {\n      if(e.keyCode === escKey){\n        closeAllPopups()\n      }\n    }\n    document.addEventListener('keydown', close)\n    return () => document.removeEventListener('keydown', close)\n  },[])\n\n  useEffect(() => {\n    checkToken();\n  },[])\n\n\n  function handleEditProfileClick () {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick () {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick () {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleDeleteButtonClick (card) {\n    setIsDeleteConfirmPopupOpen(true);\n    setSelectedCardDelete(card);\n  }\n\n  function handleCardClick (card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);   \n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsDeleteConfirmPopupOpen(false)\n    setIsImagePopupOpen(false);\n    setisInfotooltipOpen(false);\n  }\n  \n  function handleUpdateUser (formData) {\n    api.editProfileInfo(formData)\n      .then((userData) => {\n        setCurrentUser(userData);\n        setIsEditProfilePopupOpen(false)\n       })\n      .catch( (error) => {\n          console.log(error);\n      });\n  }\n\n  function handleUpdateAvatar (formLink) {\n    api.editProfilePhoto(formLink)\n      .then((userData) => {\n        setCurrentUser(userData);\n        setIsEditAvatarPopupOpen(false)\n       })\n      .catch( (error) => {\n          console.log(error);\n      });\n  }\n\n  function handleAddPlaceSubmit (cardForm) {\n    api.addNewCard(cardForm)\n      .then((newCard) => {\n        setCards([newCard, ...cardsList]);\n        setIsAddPlacePopupOpen(false)\n       })\n      .catch( (error) => {\n          console.log(error);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api.changeLikeCardStatus(card._id, !isLiked)\n       .then((newCard) => {\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n       .catch( (error) => {\n          console.log(error);\n       });\n  } \n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n        .then(() => {\n            setCards((cards) => cards.filter((c) => c._id !== card._id));\n            setIsDeleteConfirmPopupOpen(false);\n        })\n        .catch((error) => {\n          console.log(error);\n       });\n\n  }\n\n  function handleLogin ({email, password}){\n    auth.authorize(email, password)\n      .then(data => {\n        const jwt  = data.token;\n        localStorage.setItem('jwt', jwt)\n        setLoggedIn(true)\n        setUserEmail(email);\n        history.push('/')\n      })\n      .catch(error => console.log(error));  \n  }\n\n  function handleRegister({password, email}) {\n    auth.register(password, email)\n      .then(res => {\n        if (res){\n          setIsSuccess(true)\n          setisInfotooltipOpen(true);\n          history.push('/signin');\n        }\n      })\n      .catch(error => {\n        setIsSuccess(false)\n        setisInfotooltipOpen(true);\n        console.log(error);\n      })\n  }\n\n  \n  function checkToken () {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.getContent(jwt)\n        .then((data) => {\n          setUserEmail(data.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        })\n        .catch(error => console.log(error));\n    } else {\n      setLoggedIn(false);\n    }\n  } \n\n  function handleLogout(e) {\n    setUserEmail(null);\n    setLoggedIn(false);\n    setIsBurgerOpened(false);\n    localStorage.removeItem('jwt');\n  }\n\n  if (loggedIn===null){\n    return <LoadingSpinner/>\n  }\n\n  function handleBurger(e){\n    \n    const burgerBtn = e.target.parentElement;\n    \n    if(!isBurgerOpened) {\n      burgerBtn.classList.add('header__burger_open');\n      setIsBurgerOpened(true)\n    } else {\n      burgerBtn.classList.remove('header__burger_open');\n      setIsBurgerOpened(false);\n    }\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n        <Header loggedIn={loggedIn}\n                userEmail={userEmail}\n                handleLogout={handleLogout}\n                handleBurger={handleBurger}\n                isBurgerOpened={isBurgerOpened}/>\n\n        <Switch>\n          <Route path=\"/signup\">\n            <Register handleRegister={handleRegister}/>\n          </Route>\n\n          <Route path=\"/signin\">\n            <Login handleLogin={handleLogin}/>\n          </Route>\n          \n\n          <ProtectedRoute exact path=\"/\"\n                cards={cardsList}\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleDeleteButtonClick}\n                loggedIn={loggedIn}\n                component={Main}/>\n\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n        </Switch>\n\n        <Footer/>\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} \n                          onClose={closeAllPopups} \n                          onUpdateUser={handleUpdateUser}/>\n\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} \n                          onClose={closeAllPopups} \n                          onUpdateAvatar={handleUpdateAvatar}/> \n\n        <AddPlacePopup isOpen={isAddPlacePopupOpen}\n                        onClose={closeAllPopups}\n                        onAddPlace={handleAddPlaceSubmit}/>\n\n        <ConfirmationPopup card = {selectedCardDelete}\n                            isOpen={isDeleteConfirmPopupOpen}\n                            onCardDelete={handleCardDelete}\n                            onClose={closeAllPopups}/>\n\n        <ImagePopup card={selectedCard} \n                    isOpen={isImagePopupOpen} \n                    onClose={closeAllPopups}/>\n\n        \n        <InfoTooltip isSuccess={isSuccess} \n                     isOpen={isInfotooltipOpen}\n                     onClose={closeAllPopups}/>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","export const escKey = 27;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <HashRouter>\n          <App/>\n      </HashRouter>\n   </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}